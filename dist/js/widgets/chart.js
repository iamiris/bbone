define(["base/app","base"],function(e,t){var n=.1,r=["#ffc42b","#0fafe8","#66bb10","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],i=[.8,.8],s=[{linearGradient:[0,0,0,300],stops:[[0,"#ffcc48"],[1,"#fff6cd"]]},{linearGradient:[0,0,0,300],stops:[[0,"#0db2e8"],[1,"#e1f7ff"]]}],o=t.View.extend({template:'<h1>{{title}}</h1><div class="chart-body"> </div>',serialize:function(){return this.collection.getConfigs()},postRender:function(){this.renderChart()},renderChart:function(){var e=this.collection,t=e.getConfigs(),i=e.getSeries(),s=e.getCategories(),o=Math.ceil(s.length/t.maxXticks);this.$(".chart-body").highcharts({chart:{type:t.type},colors:t.chartColors||r,symbols:["circle","circle","circle","circle","circle"],title:{text:""},credits:{enabled:!1},series:i,legend:{enabled:t.showLegend,margin:30,verticalAlign:"top",borderWidth:0,useHTML:!0,symbolWidth:0,labelFormatter:function(){return"<div class='checkboxwidget'> <div class='checkboxColor boxchecked jqSymbol"+this.index+"'><span style='background-color:"+this.color+";'></span><label style='color:"+this.color+"'>"+this.name+"</label></div></div>"}},xAxis:{startOnTick:!0,endOnTick:!0,tickmarkPlacement:"on",tickLength:0,title:{text:t.xAxis},minPadding:0,maxPadding:0,labels:{step:o,style:{"font-size":"11px","font-family":"Arial"}},categories:s},yAxis:{lineWidth:1,allowDecimals:!1,min:0,title:{text:t.yAxis,style:{"font-size":"12px","font-family":"Arial"}},minPadding:0,gridLineWidth:n,labels:{enabled:!0},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:Highcharts.theme&&Highcharts.theme.textColor||"gray"}}},tooltip:{enabled:!0,formatter:function(){var e="";return this.x?e="<b>"+this.series.name+"</b><br/>"+this.x+" : "+this.y:e="<b>"+this.key+"</b> : "+this.y+" ( "+this.percentage.toFixed(2)+"% )",e}},plotOptions:{bar:{pointWidth:35,dataLabels:{enabled:!0}},column:{stacking:"normal",pointWidth:t.pointWidth,dataLabels:{enabled:!0}},pie:{allowPointSelect:!0,cursor:"pointer",shadow:!0,innerSize:"40%",dataLabels:{enabled:!0,color:"#000000",connectorColor:"#000000",formatter:function(){return"<b>"+this.point.name+"</b>: "+this.percentage.toFixed(2)+" %"}},states:{hover:{enabled:!1}}},area:{stacking:t.isStacked?"normal":null},series:{stacking:t.isStacked?"normal":null,lineWidth:2,shadow:!1,marker:{enabled:!1,fillColor:"#FFFFFF",lineWidth:1.5,lineColor:null,radius:3,states:{hover:{enabled:!0}}},events:{legendItemClick:function(e){}}},line:{marker:{enabled:!1,states:{hover:{enabled:!0}}},events:{legendItemClick:function(e){}}}},scrollbar:{enabled:!0},exporting:{enabled:!1}})}}),u=t.Collection.extend({configDefaults:{type:"line",yAxis:"count",xAxis:"category",showLegend:!1,title:"Chart Title",pointWidth:20,isStacked:!1,maxXticks:8,step:1},getCategories:function(){var e=this.getConfig("xAxis"),t=this;return t.map(function(t){return t.get(e)})},getSeries:function(){var e=this.getConfig("yAxis").split(","),t=this;return _.map(e,function(e,n){return{name:e,data:t.map(function(t){return t.get(e)}),fillColor:s[n],fillOpacity:i[n]}})}});return{View:o,Collection:u}});