define(["base","list/singleSelect"],function(e,t){function i(e,n){n.selected=[],n.coll=e.get("items"),n.coll||(n.coll=new t.ItemCollection,e.set("items",n.coll)),e.getSelected=function(){return n.selected},e.setSelectedById=function(t){var r=n.coll.get(t);r.toggleSelect(),e.updateSelected()},e.setSelected=function(t){t.toggleSelect(),e.updateSelected()},e.selectAll=function(){n.coll.each(function(e){e.select()}),e.updateSelected()},e.selectNone=function(){n.coll.each(function(e){e.deselect()}),e.updateSelected()},e.updateSelected=function(){n.selected=n.coll.where({selected:!0}),e.set("selectedCount",n.selected.length)},e.updateSelected()}var n=[i],r=e.Model.extend({constructor:function(t){var r=this;e.Model.call(r,t),_.each(n,function(e){e(r,{})})}});return{View:t.View,Model:r,ItemView:t.ItemView,ItemCollection:t.ItemCollection}});